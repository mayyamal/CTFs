#!/bin/bash

: <<comment
using r2 and gdb:
	- first fcn.00400719 is called (s fcn.00400719; pdf; VV)
	- then getenv is called which searches for an env. var MAGIC_VAR and returns its content
	- then atoi is called with the string from getenv
		in rbx is the hex value

	- and the returned number (in rbx) is compared with hex num 0x6aca6ab7
	gdb-peda$ b *0x004007d4
	Breakpoint 1 at 0x4007d4
	gdb-peda$ r

so the decimal number in MAGIC_VAR must be 1791650487 = 0x6aca6ab7
 	-if the comparison is true, system is called with "cat flag.txt"

comment

export MAGIC_VAR=1791650487

./main.elf
